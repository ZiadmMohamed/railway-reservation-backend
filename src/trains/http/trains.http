### Railway Reservation API - Trains CRUD Demo
### Base URL
@baseUrl = http://localhost:3000
@contentType = application/json
@language = ar

### Variables (update these after creating a train)
@trainId = 1e330c76-9b63-48a5-a341-6cdbb969326b

###############################################
# Trains CRUD Operations
###############################################

### 1. Create a new train (English)
POST {{baseUrl}}/api/trains
Content-Type: {{contentType}}
Accept-Language: en

{
  "name": "Express Train",
  "source": "New York",
  "destination": "Boston",
  "number": "EXP003",
  "totalSeats": "100"
}

### 1b. Create another train (Arabic)
POST {{baseUrl}}/api/trains
Content-Type: {{contentType}}
Accept-Language: ar

{
  "name": "قطار النيل السريع",
  "source": "القاهرة",
  "destination": "الإسكندرية",
  "number": "EXP002",
  "totalSeats": "120"
}

### 2. Get all trains (with pagination - English)
GET {{baseUrl}}/api/trains?page=1&limit=10
Accept-Language: en

### 2b. Get all trains (with pagination - Arabic)
GET {{baseUrl}}/api/trains?page=1&limit=10
Accept-Language: ar

### 3. Get all trains (default pagination)
GET {{baseUrl}}/api/trains
Accept-Language: ar

### 4. Get a specific train by ID
GET {{baseUrl}}/api/trains/{{trainId}}
Accept-Language: {{language}}

### 5. Update train (English - update name and seats)
PATCH {{baseUrl}}/api/trains/{{trainId}}
Content-Type: {{contentType}}
Accept-Language: en

{
  "name": "Super Express Train",
  "source": "New York City",
  "destination": "Boston MA",
  "totalSeats": "150"
}

### 5b. Update train (Arabic - update only name)
PATCH {{baseUrl}}/api/trains/{{trainId}}
Content-Type: {{contentType}}
Accept-Language: ar

{
  "name": "القطار الفائق السرعة",
  "source": "نيويورك",
  "destination": "بوسطن"
}

### 6. Update train number only
PATCH {{baseUrl}}/api/trains/{{trainId}}
Content-Type: {{contentType}}
Accept-Language: en

{
  "number": "EXP999"
}

### 7. Delete a train (English)
DELETE {{baseUrl}}/api/trains/{{trainId}}
Accept-Language: en

### 7b. Delete a train (Arabic)
DELETE {{baseUrl}}/api/trains/{{trainId}}
Accept-Language: ar

###############################################
# Example: Complete workflow
###############################################

### Step 1: Create train (English)
# @name createTrain
POST {{baseUrl}}/api/trains
Content-Type: {{contentType}}
Accept-Language: en

{
  "name": "Demo Train",
  "source": "Station A",
  "destination": "Station B",
  "number": "DEMO001",
  "totalSeats": "50"
}

### Step 2: Get created train (copy the id from response)
# Response will contain the train with an id field
# Copy that id and use it in the next requests

### Step 3: Update the train (English)
PATCH {{baseUrl}}/api/trains/<paste-train-id-here>
Content-Type: {{contentType}}
Accept-Language: en

{
  "name": "Updated Demo Train",
  "source": "Station A Updated",
  "destination": "Station B Updated",
  "totalSeats": "75"
}

### Step 4: Add Arabic translation
PATCH {{baseUrl}}/api/trains/<paste-train-id-here>
Content-Type: {{contentType}}
Accept-Language: ar

{
  "name": "قطار تجريبي",
  "source": "محطة أ",
  "destination": "محطة ب"
}

### Step 5: Get updated train (English)
GET {{baseUrl}}/api/trains/<paste-train-id-here>
Accept-Language: en

### Step 6: Get updated train (Arabic)
GET {{baseUrl}}/api/trains/<paste-train-id-here>
Accept-Language: ar

### Step 7: Delete the train
DELETE {{baseUrl}}/api/trains/<paste-train-id-here>

###############################################
# Error Cases (for testing)
###############################################

### Get non-existent train (should return 404 - English)
GET {{baseUrl}}/api/trains/non-existent-id
Accept-Language: en

### Get non-existent train (should return 404 - Arabic)
GET {{baseUrl}}/api/trains/non-existent-id
Accept-Language: ar

### Create train with invalid data (should return 400 - English)
POST {{baseUrl}}/api/trains
Content-Type: {{contentType}}
Accept-Language: en

{
  "number": "T12345"
}

### Create train with invalid data (should return 400 - Arabic)
POST {{baseUrl}}/api/trains
Content-Type: {{contentType}}
Accept-Language: ar

{
  "number": "T12345"
}

### Update non-existent train (should return 404 - English)
PATCH {{baseUrl}}/api/trains/non-existent-id
Content-Type: {{contentType}}
Accept-Language: en

{
  "name": "Test Train",
  "source": "A",
  "destination": "B"
}

### Update non-existent train (should return 404 - Arabic)
PATCH {{baseUrl}}/api/trains/non-existent-id
Content-Type: {{contentType}}
Accept-Language: ar

{
  "name": "اختبار",
  "source": "أ",
  "destination": "ب"
}
